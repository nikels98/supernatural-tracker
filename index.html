<!doctype html>
<html lang="de">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Supernatural Episoden-Tracker</title>
<style>
body{font-family:sans-serif;background:#000;color:#fff;margin:0;padding:0}
header{position:fixed;top:0;left:0;right:0;background:#111;padding:10px;text-align:center;z-index:10}
section{margin-top:70px;padding:20px}
details{margin-bottom:10px;background:#1a1a1a;border-radius:8px;padding:10px}
summary{cursor:pointer;font-weight:bold}
.special{color:#ff6666}
.floating{position:fixed;bottom:20px;right:20px;background:rgba(30,30,30,0.8);backdrop-filter:blur(10px);padding:15px;border-radius:12px}
button{background:#444;color:#fff;border:none;padding:6px 12px;border-radius:8px;cursor:pointer}
#infoModal{display:none;position:fixed;inset:0;background:rgba(0,0,0,.6);align-items:center;justify-content:center}
#infoContent{background:#222;padding:20px;border-radius:10px;color:#fff;max-width:400px}
</style>
</head>
<body>
<header>
  <h1>Supernatural Episoden-Tracker</h1>
  <div id="progress">Fortschritt: 0%</div>
</header>
<section id="episodes"></section>
<div class="floating" id="statusBox">Noch 0h (alle)<br>Noch 0h (special)</div>
<button style="position:fixed;bottom:20px;left:20px" id="infoBtn">‚ÑπÔ∏è Info</button>
<div id="infoModal"><div id="infoContent">
  <h3>√úber diese Seite</h3>
  <p>Version v1.0 ‚Äì Stand 19.08.2025</p>
  <p>Designed in Germany ‚Ä¢ Crafted with salt & lore üñ§</p>
  <button onclick="document.getElementById('infoModal').style.display='none'">Schlie√üen</button>
</div></div>
<script>
const episodesPerSeason=[22,22,16,22,22,22,23,23,23,23,23,23,23,20,20];
const specials={
  "4-1":true,"4-2":true,"5-8":true,"11-4":true,"13-16":true,"14-13":true // Beispiele
};
let totalEpisodes=episodesPerSeason.reduce((a,b)=>a+b,0);
let watched={};
function render(){
  const container=document.getElementById('episodes');
  container.innerHTML="";
  for(let s=1;s<=15;s++){
    let det=document.createElement('details');
    let sum=document.createElement('summary');
    sum.textContent="Staffel "+s+" ("+episodesPerSeason[s-1]+" Folgen)";
    det.appendChild(sum);
    for(let e=1;e<=episodesPerSeason[s-1];e++){
      let id=s+"-"+e;
      let label=document.createElement('label');
      let cb=document.createElement('input');
      cb.type="checkbox";cb.dataset.id=id;
      cb.checked=watched[id]||false;
      cb.onchange=update;
      label.appendChild(cb);
      let span=document.createElement('span');
      span.textContent=" Folge "+e;
      if(specials[id]) span.className="special";
      label.appendChild(span);
      det.appendChild(label);
      det.appendChild(document.createElement('br'));
    }
    container.appendChild(det);
  }
}
function update(){
  let checked=document.querySelectorAll('#episodes input:checked').length;
  let specialTotal=Object.keys(specials).length;
  let specialChecked=0;
  document.querySelectorAll('#episodes input:checked').forEach(cb=>{
    if(specials[cb.dataset.id]) specialChecked++;
  });
  let hoursLeft=(totalEpisodes-checked)*0.7; // 42min =0.7h
  let specialLeft=(specialTotal-specialChecked)*0.7;
  document.getElementById('progress').textContent="Fortschritt: "+Math.round(checked/totalEpisodes*100)+"%";
  document.getElementById('statusBox').innerHTML="Noch "+hoursLeft.toFixed(1)+"h (alle)<br>Noch "+specialLeft.toFixed(1)+"h (special)";
  document.querySelectorAll('#episodes input').forEach(cb=>{
    watched[cb.dataset.id]=cb.checked;
  });
  localStorage.setItem('watched',JSON.stringify(watched));
}
document.getElementById('infoBtn').onclick=()=>document.getElementById('infoModal').style.display='flex';
if(localStorage.getItem('watched')) watched=JSON.parse(localStorage.getItem('watched'));
render();update();
</script>
</body>
</html>